defmodule AdventOfCode2017.Spreadsheet do
  def checksum(input) do
    input
    |> String.split("\n", trim: true)
    |> Enum.map(&line_total/1)
    |> Enum.reduce(0, &Kernel.+/2)
  end

  defp line_total(line) do
    line
    |> String.split(~r/\s+/)
    |> Enum.map(&String.to_integer/1)
    |> Enum.min_max
    |> difference
  end

  defp difference({min, max}) do
    max - min
  end
end
